<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<f:view contentType="text/html;charset=UTF-8" encoding="UTF-8">
	<h:head>
		<title>Listagem Temperatura</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	</h:head>

	<h:body>
		<h:form id="form1">

			<div class="ui-g-12 ui-md-12 ui-fluid">
				<p:growl id="msgs" showDetail="true"
					skipDetailIfEqualsSummary="true" />
				
					

				
				<p:dataTable id="tbTemperaturas" reflow="true" var="temperatura"
					value="#{temperaturasVisao.temperaturas}">
					<f:facet name="header">

						<p:commandButton value="Novo" image="ui-icon-document"
							style="width: 10%" action="#{temperaturasVisao.novo}"
							onclick="PF('inclusaoRegistroDlg').show(); return false;"
							update="@form" />

					</f:facet>

					<p:column headerText="Celsius">
						<h:outputText value="#{temperatura.valorCelsius}" />
					</p:column>

					<p:column headerText="Fahrenheit">
						<h:outputText value="#{temperatura.valorFahrenheit}" />
					</p:column>

					<p:column headerText="Kelvin">
						<h:outputText value="#{temperatura.valorKelvin}" />
					</p:column>



					<p:column headerText="Ações" exportable="false">

						<p:commandButton title="Editar"
							oncomplete="PF('inclusaoRegistroDlg').show(); return false;"
							update=":form1:inclusaoRegistroDlg" process="@this">
							<f:setPropertyActionListener target="#{temperaturasVisao.objeto}"
								value="#{temperatura}" />
						</p:commandButton>



						<p:commandButton title="Excluir" image="ui-icon-document"
							oncomplete="PF('confirmacaoExclusao').show();"
							update=":form1:confirmacaoExclusaoDialog" process="@this">
							<f:setPropertyActionListener target="#{temperaturasVisao.objeto}"
								value="#{temperatura}" />
						</p:commandButton>



					</p:column>



				</p:dataTable>

				<!-- DIALOG INCLUSÃO REGISTRO -->

				<p:dialog id="inclusaoRegistroDlg" header="Inclusão/Edição "
					resizable="true" position="center" draggable="true" modal="true"
					width="400" height="200" widgetVar="inclusaoRegistroDlg"
					showEffect="slide">
					<div class="ui-g ui-fluid">

						<p:ajax event="close" update="inclusaoRegistroDlg" />
						<p:messages for="msgInclusaoRegistro" autoUpdate="true"
							closable="true" />


						<div class="ui-g-12 ui-md-12 ui-fluid">
							<p:outputLabel value="Temperatura Célsius:"
								style="font-weight:bold" />
							<p:inputText value="#{temperaturasVisao.objeto.valorCelsius}" />

						</div>

						<div class="ui-g-12 ui-md-12 ui-fluid">
							<p:outputLabel value="Temperatura Fahrenheit:"
								style="font-weight:bold" />
							<p:inputText value="#{temperaturasVisao.objeto.valorFahrenheit}" />

						</div>
						<div class="ui-g-12 ui-md-12 ui-fluid">
							<p:outputLabel value="Temperatura Kelvin:"
								style="font-weight:bold" />
							<p:inputText value="#{temperaturasVisao.objeto.valorKelvin}" />
						</div>

					</div>

					<f:facet name="footer">

						<p:commandButton value="Salvar" style="margin-top: 5px;"
							action="#{temperaturasVisao.salvar}"
							oncomplete="PF('inclusaoRegistroDlg').hide();"
							update=":form1:tbTemperaturas" />
					</f:facet>
				</p:dialog>


				<p:confirmDialog id="confirmacaoExclusaoDialog"
					header="Exclusão de registro" appendToBody="true"
					showEffect="slide"
					message="Tem certeza que deseja excluir o registro #{temperaturasVisao.objeto.id}?"
					widgetVar="confirmacaoExclusao" modal="true">
					<p:button value="Não" onclick="PF('confirmacaoExclusao').hide();" />
					<p:commandButton value="Sim" action="#{temperaturasVisao.excluir}"
						oncomplete="PF('confirmacaoExclusao').hide();" process="@this"
						update=":form1:tbTemperaturas" />
				</p:confirmDialog>

			</div>




		</h:form>

	</h:body>

</f:view>
</html>
